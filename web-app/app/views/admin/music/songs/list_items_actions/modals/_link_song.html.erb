<%# Modal content for linking to an existing song %>
<%= turbo_frame_tag Admin::Music::Songs::Wizard::SharedModalComponent::FRAME_ID do %>
  <h3 class="font-bold text-lg">Link to Existing Song</h3>
  <p class="text-sm text-base-content/70 mt-1"><%= item_label(item) %></p>

  <%= form_with url: manual_link_admin_songs_list_item_path(list_id: list.id, id: item.id),
                method: :post,
                data: {
                  controller: "modal-form",
                  modal_form_modal_id_value: Admin::Music::Songs::Wizard::SharedModalComponent::DIALOG_ID,
                  turbo_frame: "_top"
                } do |f| %>

    <div class="form-control mt-4">
      <label class="label">
        <span class="label-text">Search for song in our database:</span>
      </label>
      <%= render AutocompleteComponent.new(
        name: "song_id",
        url: search_admin_songs_path,
        placeholder: "Search for song...",
        display_key: "text",
        value_key: "value",
        required: true
      ) %>
    </div>

    <div id="<%= Admin::Music::Songs::Wizard::SharedModalComponent::ERROR_ID %>" class="text-error text-sm mt-2"></div>

    <div class="modal-action">
      <button type="button" class="btn" onclick="<%= Admin::Music::Songs::Wizard::SharedModalComponent::DIALOG_ID %>.close()">Cancel</button>
      <%= f.submit "Link", class: "btn btn-primary" %>
    </div>
  <% end %>
<% end %>
